(this["webpackJsonpboardgame-fe"]=this["webpackJsonpboardgame-fe"]||[]).push([[0],{33:function(e,t,n){},34:function(e,t,n){},54:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),i=n(26),a=n.n(i),s=(n(33),n(2)),o=(n(34),n(3)),u=n(6),l=n(4),j=n.n(l),d=n(10),b=n(27),v=n.n(b).a.create({baseURL:"https://tp-boardgame-api.herokuapp.com/api"}),h=function(){var e=Object(d.a)(j.a.mark((function e(t,n,r,c,i,a,s){var o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s(!0),a(!1),e.prev=3,e.next=6,v.get("/users/".concat(n));case 6:o=e.sent,r(o.data.user),i(!0),c(""),s(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),a(!0),s(!1);case 17:case 18:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t,n,r,c,i,a,s){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(j.a.mark((function e(t,n,r){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n({}),r(!1);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),p=function(){var e=Object(d.a)(j.a.mark((function e(t,n,r,c,i){var a,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),a="/reviews?page=".concat(r,"&limit=5"),"all"!==t&&(a+="&category=".concat(t)),e.prev=3,e.next=6,v.get(a);case 6:s=e.sent,i(s.data.total_count),n(s.data.reviews),c(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),c(!1);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t,n,r,c,i){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(j.a.mark((function e(t,n,r,c,i,a,s,o,u,l){var d,b;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r(!0),d="/reviews?page=".concat(u,"&limit=5"),"all"!==l&&(d+="&category=".concat(l)),e.prev=4,e.next=7,v.post("/reviews",n);case 7:return r(!1),c(!1),a(!0),o(!0),e.next=13,v.get(d);case 13:b=e.sent,s(b.data.reviews),o(!1),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(4),r(!1),i(!0);case 22:case 23:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(t,n,r,c,i,a,s,o,u,l){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(j.a.mark((function e(t,n,r,c,i,a){var s,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a(!0),s="/reviews?page=".concat(i,"&limit=5"),"all"!==r&&(s+="&category=".concat(r)),e.prev=4,e.next=7,v.delete("/reviews/".concat(n));case 7:return e.next=9,v.get(s);case 9:o=e.sent,c(o.data.reviews),a(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),a(!1);case 17:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t,n,r,c,i,a){return e.apply(this,arguments)}}(),m=function(){var e=Object(d.a)(j.a.mark((function e(t,n,r,c,i){var a,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c(!0),e.prev=2,e.next=5,v.get("/reviews/".concat(n));case 5:return a=e.sent,e.next=8,v.get("/reviews/".concat(n,"/comments"));case 8:s=e.sent,r(a.data.review),i(s.data.comments),c(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),c(!1);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n,r,c,i){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(j.a.mark((function e(t,n,r,c,i,a){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r(!0),e.prev=2,e.next=5,v.post("/reviews/".concat(n,"/comments"),{username:i.username,body:a});case 5:return e.next=7,v.get("/reviews/".concat(n,"/comments"));case 7:s=e.sent,c(s.data.comments),r(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r(!1);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,n,r,c,i,a){return e.apply(this,arguments)}}(),f=function(){var e=Object(d.a)(j.a.mark((function e(t,n,r,c){var i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,v.delete("/comments/".concat(n));case 4:return e.next=6,v.get("/reviews/".concat(c,"/comments"));case 6:i=e.sent,r(i.data.comments),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n,r,c){return e.apply(this,arguments)}}(),y=function(){var e=Object(d.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.patch("/reviews/".concat(t.review_id),{inc_votes:1});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),n(0);case 8:case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(d.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.patch("/reviews/".concat(t.review_id),{inc_votes:-1});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),n(0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(d.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{v.patch("/comments/".concat(t.comment_id),{inc_votes:1})}catch(r){n(0)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=Object(d.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{v.patch("/comments/".concat(t.comment_id),{inc_votes:-1})}catch(r){n(0)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=(n(54),n(0)),_=function(e){var t=e.currentUser,n=e.setCurrentUser,c=e.loggedIn,i=e.setLoggedIn,a=Object(o.f)(),l=Object(r.useState)(""),j=Object(s.a)(l,2),d=j[0],b=j[1],v=Object(r.useState)(!1),p=Object(s.a)(v,2),x=p[0],w=p[1],m=Object(r.useState)(!1),g=Object(s.a)(m,2),f=g[0],y=g[1];return Object(S.jsxs)("header",{id:"titleAndLogin",children:[Object(S.jsx)(u.b,{to:"/",children:Object(S.jsx)("h1",{children:"Boardgamiacs"})}),Object(S.jsxs)("form",{id:"loginForm",onSubmit:c?function(e){return O(e,n,i)}:function(e){h(e,d,n,b,i,w,y),a.push("/")},children:[f?Object(S.jsx)("p",{children:"Logging in..."}):c?Object(S.jsx)("p",{children:t.username}):Object(S.jsx)("input",{id:"loginUsername",type:"text",placeholder:"username",onChange:function(e){return b(e.target.value)},value:d,required:!0}),f?null:c?Object(S.jsx)("button",{id:"logoutButton",children:"log out"}):Object(S.jsx)("button",{id:"loginButton",children:"log in"}),x&&Object(S.jsx)("p",{children:"Sorry, we couldn't find that user"})]})]})},D=(n(64),function(e){var t=e.reviews,n=e.currentUser,r=e.category,c=e.setReviews,i=e.page,a=e.setLoading,s=e.setViewingReview,o=e.setReviewComments;return Object(S.jsx)("ul",{id:"reviewList",children:t.map((function(e){return Object(S.jsxs)("li",{className:"review",children:[Object(S.jsxs)("h3",{className:"reviewTitle",onClick:function(t){return m(t,e.review_id,s,a,o)},children:[" ",Object(S.jsx)(u.b,{to:"/viewFullReview",children:e.title})]}),Object(S.jsx)("h4",{className:"reviewAuthor",children:e.owner}),Object(S.jsx)("h5",{className:"timeStamp",children:e.created_at.slice(0,10)}),Object(S.jsx)(L,{review:e}),n.username===e.owner&&Object(S.jsx)("button",{onClick:function(t){return w(t,e.review_id,r,c,i,a)},children:"delete"})]},e.review_id)}))})}),U=function(e){var t=e.currentUser,n=e.setAddReviewLoading,c=e.setDisplayAddReview,i=e.setAddReviewFail,a=e.setAddReviewSuccess,o=e.setReviews,u=e.setLoading,l=e.page,j=e.category,d=Object(r.useState)(""),b=Object(s.a)(d,2),v=b[0],h=b[1],O=Object(r.useState)(""),p=Object(s.a)(O,2),w=p[0],m=p[1],g=Object(r.useState)(""),f=Object(s.a)(g,2),y=f[0],k=f[1],R=Object(r.useState)(""),C=Object(s.a)(R,2),_=C[0],D=C[1],U=Object(r.useState)(""),L=Object(s.a)(U,2),A=L[0],F=L[1];return Object(S.jsxs)("form",{onSubmit:function(e){var r={owner:t.username,title:v,review_body:w,designer:y,category:_,review_img_url:A||null};x(e,r,n,c,i,a,o,u,l,j)},children:[Object(S.jsx)("label",{htmlFor:"newReviewTitle",children:"What's your review called? :"}),Object(S.jsx)("br",{}),Object(S.jsx)("input",{type:"text",id:"newReviewTitle",name:"newReviewTitle",value:v,onChange:function(e){return h(e.target.value)},required:!0}),Object(S.jsx)("br",{}),Object(S.jsx)("label",{htmlFor:"newReviewBody",children:"So.... how was it? :"}),Object(S.jsx)("br",{}),Object(S.jsx)("textarea",{id:"newReviewBody",name:"newReviewBody",rows:"5",cols:"30",value:w,onChange:function(e){return m(e.target.value)},required:!0}),Object(S.jsx)("br",{}),Object(S.jsx)("label",{htmlFor:"newReviewDesigner",children:"And who made the game? :"}),Object(S.jsx)("br",{}),Object(S.jsx)("input",{type:"text",id:"newReviewDesigner",name:"newReviewDesigner",value:y,onChange:function(e){return k(e.target.value)},required:!0}),Object(S.jsx)("br",{}),Object(S.jsx)("lable",{htmlFor:"newReviewPictureUrl",children:"add a picture if you like :"}),Object(S.jsx)("br",{}),Object(S.jsx)("input",{type:"url",name:"newReviewPictureUrl",id:"newReviewPictureUrl",value:A,onChange:function(e){return F(e.target.value)}}),Object(S.jsx)("br",{}),Object(S.jsx)("lable",{htmlFor:"newReviewCategory",children:"Lastly, which category best fits this game? :"}),Object(S.jsx)("br",{}),Object(S.jsxs)("select",{name:"newReviewCategory",id:"newReviewCategory",value:_,onChange:function(e){return D(e.target.value)},required:!0,children:[Object(S.jsx)("option",{value:"",children:"choose a category"}),Object(S.jsx)("option",{value:"strategy",children:"Strategy"}),Object(S.jsx)("option",{value:"hidden-roles",children:"Hidden roles"}),Object(S.jsx)("option",{value:"dexterity",children:"Dexterity"}),Object(S.jsx)("option",{value:"push-your-luck",children:"Push your luck"}),Object(S.jsx)("option",{value:"roll-and-write",children:"Roll and Write"}),Object(S.jsx)("option",{value:"deck-building",children:"Deck building"}),Object(S.jsx)("option",{value:"engine-building",children:"Engine building"})]}),Object(S.jsx)("br",{}),Object(S.jsx)("button",{type:"submit",children:"Submit review"})]})},L=(n(65),function(e){var t=e.review,n=e.comment,c=Object(r.useState)(!1),i=Object(s.a)(c,2),a=i[0],o=i[1],u=Object(r.useState)(0),l=Object(s.a)(u,2),j=l[0],d=l[1];return Object(S.jsxs)("div",{id:"reviewVoteBox",children:[a?Object(S.jsx)("span",{"aria-label":"thumbs up, disabled",className:"thumb",children:"\ud83d\udc4d"}):Object(S.jsx)("span",{"aria-label":"thumbs up",className:"thumb",onClick:function(){o(!0),d(1),t?y(t,d):R(n,d)},children:"\ud83d\udc4d"}),Object(S.jsx)("span",{children:t?t.votes+j:n.votes+j}),a?Object(S.jsx)("span",{"aria-label":"thumbs down, disabled",className:"thumb",children:"\ud83d\udc4e"}):Object(S.jsx)("span",{"aria-label":"thumbs down, disabled",className:"thumb",onClick:function(){o(!0),d(-1),t?k(t,d):C(n,d)},children:"\ud83d\udc4e"})]})}),A=function(e){var t=e.setCategory,n=e.currentUser,c=e.setReviews,i=e.setLoading,a=e.page,o=e.category,l=Object(r.useState)(!1),j=Object(s.a)(l,2),d=j[0],b=j[1],v=Object(r.useState)(!1),h=Object(s.a)(v,2),O=h[0],p=h[1],x=Object(r.useState)(!1),w=Object(s.a)(x,2),m=w[0],g=w[1],f=Object(r.useState)(!1),y=Object(s.a)(f,2),k=y[0],R=y[1],C=Object(r.useState)(!1),_=Object(s.a)(C,2),D=_[0],L=_[1];return Object(S.jsxs)("nav",{children:[Object(S.jsx)("p",{id:"addReviewDisplayer",onClick:function(){R(!1),L(!1),b(!1),p((function(e){return!e}))},children:"Add a review"}),m?Object(S.jsx)("p",{children:"submitting review..."}):O&&Object(S.jsx)(U,{currentUser:n,setAddReviewLoading:g,setDisplayAddReview:p,setAddReviewFail:L,setAddReviewSuccess:R,setReviews:c,setLoading:i,page:a,category:o}),k&&Object(S.jsx)("p",{children:"Great! thanks for your review"}),D&&Object(S.jsx)("p",{children:"oops someone knocked the board over, try again"}),Object(S.jsx)("p",{id:"categoryDisplayer",onClick:function(){p(!1),b((function(e){return!e}))},children:"Categories"}),d&&Object(S.jsxs)("div",{id:"categorySelect",children:[Object(S.jsx)(u.b,{to:"/",children:Object(S.jsx)("p",{onClick:function(){return t("all")},value:"all",children:"All"})}),Object(S.jsx)(u.b,{to:"/",children:Object(S.jsx)("p",{onClick:function(){return t("strategy")},value:"strategy",children:"Strategy"})}),Object(S.jsx)(u.b,{to:"/",children:Object(S.jsx)("p",{onClick:function(){return t("hidden-roles")},value:"hidden-roles",children:"Hidden roles"})}),Object(S.jsx)(u.b,{to:"/",children:Object(S.jsx)("p",{onClick:function(){return t("dexterity")},value:"dexterity",children:"Dexterity"})}),Object(S.jsx)(u.b,{to:"/",children:Object(S.jsx)("p",{onClick:function(){return t("push-your-luck")},value:"push-your-luck",children:"Push your luck"})}),Object(S.jsx)(u.b,{to:"/",children:Object(S.jsx)("p",{onClick:function(){return t("roll-and-write")},value:"roll-and-write",children:"Roll and Write"})}),Object(S.jsx)(u.b,{to:"/",children:Object(S.jsx)("p",{onClick:function(){return t("deck-building")},value:"deck-building",children:"Deck building"})}),Object(S.jsx)(u.b,{to:"/",children:Object(S.jsx)("p",{onClick:function(){return t("engine-building")},value:"engine-building",children:"Engine building"})})]})]})},F=function(e){var t=e.reviews,n=e.page,r=e.setPage,c=e.currentUser,i=e.category,a=e.setReviews,s=e.setLoading,o=e.setViewingReview,u=e.setReviewComments,l=e.totalReviews;return Object(S.jsxs)("section",{className:"reviewDisplay",children:[Object(S.jsx)(D,{reviews:t,currentUser:c,page:n,category:i,setReviews:a,setLoading:s,setViewingReview:o,setReviewComments:u}),Object(S.jsxs)("div",{id:"paginationButtons",children:[Object(S.jsx)("button",{onClick:function(){return r((function(e){return e-1}))},disabled:1===n,children:"previous"}),Object(S.jsx)("button",{onClick:function(){return r((function(e){return e+1}))},disabled:5*n>=l,children:"next"})]})]})},B=(n(66),function(e){var t=e.viewingReview,n=e.reviewComments,c=e.setReviewComments,i=e.currentUser,a=Object(r.useState)(!1),o=Object(s.a)(a,2),u=o[0],l=o[1],j=Object(r.useState)(""),d=Object(s.a)(j,2),b=d[0],v=d[1];return Object(S.jsxs)("div",{id:"reviewAndComments",children:[Object(S.jsxs)("div",{id:"singleReview",children:[Object(S.jsx)("img",{src:t.review_img_url,alt:"review snap",id:"reviewPicture"}),Object(S.jsxs)("section",{children:[Object(S.jsx)("p",{children:t.title}),Object(S.jsxs)("div",{children:[Object(S.jsxs)("p",{children:["Review by : ",t.owner]}),Object(S.jsxs)("p",{children:["Game by : ",t.designer]})]}),Object(S.jsx)("p",{children:t.review_body}),Object(S.jsx)(L,{review:t})]})]}),Object(S.jsx)("label",{htmlFor:"commentForm",children:"Comment :"}),u?Object(S.jsx)("p",{children:"submitting comment..."}):Object(S.jsxs)("form",{onSubmit:function(e){return g(e,t.review_id,l,c,i,b)},name:"commentForm",id:"commentForm",children:[Object(S.jsx)("textarea",{name:"commentBox",id:"commentBox",cols:"30",rows:"4",onChange:function(e){return v(e.target.value)},required:!0}),Object(S.jsx)("br",{}),Object(S.jsx)("button",{type:"submit",children:"Add comment"})]}),n.length>0?Object(S.jsx)("ul",{className:"comments",children:n.map((function(e){return Object(S.jsxs)("li",{className:"comment",children:[Object(S.jsx)("p",{children:e.author}),Object(S.jsx)("p",{children:e.body}),Object(S.jsx)(L,{comment:e}),i.username===e.author&&Object(S.jsx)("button",{onClick:function(n){return f(n,e.comment_id,c,t.review_id)},children:"delete"})]},e.comment_id)}))}):Object(S.jsx)("p",{children:"Nothing yet boi, feel free to add a review though!"})]})});var N=function(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)(!1),a=Object(s.a)(i,2),u=a[0],l=a[1],j=Object(r.useState)([]),d=Object(s.a)(j,2),b=d[0],v=d[1],h=Object(r.useState)("all"),O=Object(s.a)(h,2),x=O[0],w=O[1],m=Object(r.useState)(1),g=Object(s.a)(m,2),f=g[0],y=g[1],k=Object(r.useState)(!1),R=Object(s.a)(k,2),C=R[0],D=R[1],U=Object(r.useState)({}),L=Object(s.a)(U,2),N=L[0],I=L[1],P=Object(r.useState)([]),q=Object(s.a)(P,2),T=q[0],V=q[1],E=Object(r.useState)(0),G=Object(s.a)(E,2),H=G[0],W=G[1];return Object(r.useEffect)((function(){return p(x,v,f,D,W)}),[x,f]),Object(S.jsxs)("div",{className:"App",children:[Object(S.jsx)(_,{currentUser:n,setCurrentUser:c,loggedIn:u,setLoggedIn:l}),u?Object(S.jsxs)("main",{id:"navBarAndReviewDisplay",children:[Object(S.jsx)(A,{setCategory:w,currentUser:n,setReviews:v,setLoading:D,page:f,category:x}),Object(S.jsxs)(o.c,{children:[Object(S.jsx)(o.a,{exact:!0,path:"/",children:C?Object(S.jsx)("p",{children:"loading..."}):Object(S.jsx)(F,{totalReviews:H,reviews:b,page:f,setPage:y,currentUser:n,category:x,setReviews:v,setLoading:D,setViewingReview:I,setReviewComments:V})}),Object(S.jsx)(o.a,{exact:!0,path:"/viewFullReview",children:C?Object(S.jsx)("p",{children:"loading..."}):Object(S.jsx)(B,{viewingReview:N,reviewComments:T,setReviewComments:V,currentUser:n})})]})]}):Object(S.jsx)("main",{id:"notLoggedIn",children:Object(S.jsxs)("p",{id:"loggedOutText",children:[Object(S.jsx)("span",{id:"boldStart",children:"Hey welcome to BoardGamiacs, "}),"home of reviews for games that you've never even heard of! Don't google them though, you'll challenge the whole legitimacy of this website. If you don't know or have a username, feel free to use \"tickle122\" to log in, don't hold it against me, I didn't generate the names."]})})]})};a.a.render(Object(S.jsx)(c.a.StrictMode,{children:Object(S.jsx)(u.a,{children:Object(S.jsx)(N,{})})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.57fbfe19.chunk.js.map